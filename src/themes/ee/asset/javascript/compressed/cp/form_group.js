/*!
 * This source file is part of the open source project
 * ExpressionEngine (https://expressionengine.com)
 *
 * @link      https://expressionengine.com/
 * @copyright Copyright (c) 2003-2019, EllisLab Corp. (https://ellislab.com)
 * @license   https://expressionengine.com/license Licensed under Apache License, Version 2.0
 */
!function(i){"use strict";function e(e,t,a){n(e,a,t),e.toggle(t),e.each(function(e,t){var n=i(t).closest("fieldset");n.hasClass("fieldset-invalid")&&0==n.find("input:visible").not("input.btn").size()&&(n.removeClass("fieldset-invalid"),n.find("em.ee-form-error-message").remove())})}function t(t,n,o){t.each(function(){i(this).toggle(n),i(this).nextUntil("h2, .form-btns").each(function(){var t=i(this),s=t.data("group");s&&(a[s]=!n),n&&s?e(t,d[s],o):e(t,n,o)})})}function n(e,t,n){e.find(":radio").each(function(){var e=i(this);e.attr("disabled",!n);var t=e.data("el_checked");t||(t="checked"==i(this).attr("checked"),e.data("el_checked",t),e.change(function(){e.data("el_checked",e.prop("checked"))})),n&&e.prop("checked",t)})}var a={"always-hidden":!1},d={"always-hidden":!1};i(document).ready(function(){var e=i("*[data-group-toggle]:radio");n(e,"",!1),i("*[data-group-toggle]").each(function(e,t){if(!i(this).is(":radio")||i(this).is(":checked")){var n=i(this).data("groupToggle"),a=i(this).val();i.each(n,function(i,e){void 0!=d[e]&&0!=d[e]||(d[e]=!(i!=a))})}}),i("*[data-group-toggle]").each(function(e,t){if(!i(this).is(":radio")||i(this).is(":checked")){EE.cp.form_group_toggle(this);i(this).data("groupToggle")}})}),EE.cp.form_group_toggle=function(n){if(i(n).size()){var o=i(n).data("groupToggle"),s=i(n).val();d={"always-hidden":!1};var r=function(n,o){var r=i('*[data-group*="'+o+'"]').filter(function(e){return i(this).data("group").split("|").includes(o)}),l=i('*[data-section-group*="'+o+'"]').filter(function(){return i(this).data("sectionGroup").split("|").includes(o)});void 0!=d[o]&&0!=d[o]||(d[o]=n==s),e(r,!a[o]&&n==s),t(l,d[o])};i.each(o,function(i,e){i!=s&&r(i,e)}),r(s,o[s]);i(n).closest("form")}},EE.cp.fieldToggleDisable=function(e,t){i("fieldset :input:hidden",e).not(".filter-item__search input").not(".fields-grid-item:visible :input").not(".fields-grid-setup:visible .fields-grid-item.hidden :input").attr("disabled",!0),i("fieldset:visible input[type=hidden]",e).attr("disabled",!1),t=t||"field_type",i('input[name="'+t+'"]',e).on("change",function(){i("fieldset :input",e).not(".filter-item__search input").attr("disabled",!0),i("fieldset:visible :input",e).not(".grid-blank-row :input").attr("disabled",!1),i(".fields-grid-setup:visible .fields-grid-item.hidden :input").attr("disabled",!1)})}}(jQuery);